---
sidebar: sidebar 
permalink: br-use-mssql-clone.html 
keywords: backing up, restoring, back up, backup, clone, restore, cloud volumes ontap, aws, azure, s3, blob, google cloud, storagegrid, back up volumes, cloud backup, restore volumes, cost, on-premises ontap, onprem, applications, virtual machines, backup and recovery 
summary: 개발, 테스트 또는 보호 목적으로 Microsoft SQL Server 애플리케이션 데이터를 복제합니다. 
---
= NetApp Backup and Recovery 사용하여 Microsoft SQL Server 워크로드 복제
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Backup and Recovery 사용하여 개발, 테스트 또는 보호를 위해 Microsoft SQL Server 애플리케이션 데이터를 VM에 복제하세요.  SQL Server 작업 부하의 즉각적인 스냅샷이나 기존 스냅샷에서 복제본을 만듭니다.

다음 유형의 클론 중에서 선택하세요.

* *즉각적인 스냅샷 및 복제*: 백업에서 생성된 소스 데이터의 특정 시점 복사본인 인스턴트 스냅샷에서 Microsoft SQL Server 워크로드의 복제본을 만들 수 있습니다. 복제본은 퍼블릭 또는 프라이빗 클라우드 계정의 개체 저장소에 저장됩니다. 데이터 손실이나 손상이 발생한 경우 복제본을 사용하여 작업 부하를 복원할 수 있습니다.
* *기존 스냅샷에서 복제*: 워크로드에 사용할 수 있는 스냅샷 목록에서 기존 스냅샷을 선택할 수 있습니다.  이 옵션은 특정 시점의 복제본을 만들 때 유용합니다.  기본 저장소나 보조 저장소에 복제합니다.


다음과 같은 보호 목표를 달성할 수 있습니다.

* 클론을 생성하세요
* 클론 새로 고침
* 클론 분할
* 클론 삭제


*필수 NetApp Console 역할* 스토리지 뷰어, 백업 및 복구 슈퍼 관리자 또는 백업 및 복구 백업 관리자 역할. https://docs.netapp.com/us-en/console-setup-admin/reference-iam-predefined-roles.html["모든 서비스에 대한 NetApp Console 액세스 역할에 대해 알아보세요."^] .



== 클론을 생성하세요

Microsoft SQL Server 워크로드의 복제본을 만들 수 있습니다.  복제본은 백업에서 생성된 소스 데이터의 사본입니다.  복제본은 퍼블릭 또는 프라이빗 클라우드 계정의 개체 저장소에 저장됩니다.  데이터 손실이나 손상이 발생한 경우 복제본을 사용하여 작업 부하를 복원할 수 있습니다.

기존 스냅샷이나 인스턴트 스냅샷에서 복제본을 만들 수 있습니다.  인스턴트 스냅샷은 백업에서 생성된 소스 데이터의 특정 시점 복사본입니다.  데이터 손실이나 손상이 발생한 경우 복제본을 사용하여 작업 부하를 복원할 수 있습니다.

.단계
. NetApp Backup and Recovery 메뉴에서 *복제*를 선택합니다.
. *새로운 복제본 만들기*를 선택합니다.
. 복제 유형을 선택하세요:
+
** *기존 스냅샷에서 복제 및 데이터베이스 새로 고침*: 스냅샷을 선택하고 복제 옵션을 구성합니다.
** *즉각적인 스냅샷 및 복제*: 지금 소스 데이터의 스냅샷을 찍고 해당 스냅샷에서 복제본을 만듭니다.  이 옵션은 소스 워크로드의 최신 데이터에서 복제본을 만들려는 경우에 유용합니다.


. *데이터베이스 소스* 섹션을 완성하세요.
+
** *단일 복제본 또는 대량 복제본*: 단일 복제본을 생성할지, 아니면 여러 복제본을 생성할지 선택합니다.  *대량 복제*를 선택하면 이미 생성한 보호 그룹을 사용하여 여러 복제본을 한 번에 생성할 수 있습니다.  이 옵션은 다양한 작업 부하에 대해 여러 개의 복제본을 생성하려는 경우에 유용합니다.
** *소스 데이터베이스 호스트, 인스턴스 및 이름*: 복제본의 소스 데이터베이스 호스트, 인스턴스 및 이름을 선택합니다.  소스 데이터베이스는 복제본이 생성될 데이터베이스입니다.


. *데이터베이스 대상* 섹션을 완료하세요.
+
** *대상 데이터베이스 호스트, 인스턴스 및 이름*: 복제본의 대상 데이터베이스 호스트, 인스턴스 및 이름을 선택합니다.  대상 데이터베이스는 복제본이 생성될 위치입니다.
+
선택적으로 대상 이름 드롭다운 목록에서 *접미사*를 선택하고 복제된 데이터베이스 이름에 접미사를 추가합니다.  접미사를 추가하지 않으면 복제된 데이터베이스 이름은 소스 데이터베이스 이름과 동일합니다.

** *QoS(최대 처리량)*: 복제본에 대한 서비스 품질(QoS) 최대 처리량을 MBps 단위로 선택합니다.  QoS는 최대 처리량 및 IOPS와 같은 클론의 성능 특성을 정의합니다.


. *마운트* 섹션을 완료하세요.
+
** *마운트 지점 자동 할당*: 개체 저장소에서 복제본에 대한 마운트 지점을 자동으로 할당합니다.
** *마운트 지점 경로 정의*: 복제본의 마운트 지점을 입력하세요.  마운트 지점은 복제본이 개체 저장소에 마운트되는 위치입니다.  드라이브 문자를 선택하고, 데이터 파일 경로를 입력하고, 로그 파일 경로를 입력합니다.


. *다음*을 선택하세요.
. 복원 지점을 선택하세요:
+
** *기존 스냅샷*: 워크로드에 사용 가능한 스냅샷 목록에서 기존 스냅샷을 선택합니다.  이 옵션은 특정 시점의 복제본을 만들 때 유용합니다.
** *즉각적인 스냅샷 및 복제*: 워크로드에 사용 가능한 스냅샷 목록에서 최신 스냅샷을 선택합니다.  이 옵션은 소스 워크로드의 최신 데이터에서 복제본을 만들려는 경우에 유용합니다.


. *즉각적인 스냅샷 및 복제*를 생성하도록 선택한 경우 복제본 저장 위치를 선택하세요.
+
** *로컬 저장소*: ONTAP 시스템의 로컬 저장소에 복제본을 생성하려면 이 옵션을 선택합니다.  로컬 스토리지는 ONTAP 시스템에 직접 연결된 스토리지입니다.
** *보조 저장소*: ONTAP 시스템의 보조 저장소에 복제본을 생성하려면 이 옵션을 선택합니다.  보조 저장소는 백업 및 복구 작업에 사용되는 저장소입니다.


. 데이터와 로그의 대상 위치를 선택하세요.
. *다음*을 선택하세요.
. *고급 옵션* 섹션을 작성하세요.
. *즉시 스냅샷 및 복제*를 선택한 경우 다음 옵션을 완료하세요.
+
** *복제 새로 고침 일정 및 만료*: *즉시 복제*를 선택한 경우 복제 새로 고침을 시작할 날짜를 입력합니다.  복제 일정은 복제본이 생성되는 시기를 정의합니다.
+
*** *일정이 만료되면 복제본 삭제*: 복제본 만료일에 복제본을 삭제하려는 경우.
*** *복제본 새로 고침 간격*: 복제본을 새로 고칠 빈도를 선택합니다.  복제본을 매시간, 매일, 매주, 매월 또는 분기별로 새로 고칠 수 있습니다.  이 옵션은 복제본을 소스 작업 부하에 맞춰 최신 상태로 유지하려는 경우에 유용합니다.


** *서두와 뒷부분*: 선택적으로 복제본이 생성되기 전과 후에 실행할 스크립트를 추가합니다.  이러한 스크립트는 복제본 설정이나 알림 전송 등의 추가 작업을 수행할 수 있습니다.
** *알림*: 선택적으로, 작업 보고서와 함께 복제본 생성 상태에 대한 알림을 받을 이메일 주소를 지정합니다.  복제본 생성 상태에 대한 알림을 받기 위해 웹훅 URL을 지정할 수도 있습니다.  성공 알림과 실패 알림을 모두 받을지, 아니면 둘 중 하나만 받을지 지정할 수 있습니다.
** *태그*: 나중에 리소스 그룹을 검색하는 데 도움이 되는 레이블을 선택하고 *적용*을 선택합니다.  예를 들어, 여러 리소스 그룹에 "HR"을 태그로 추가하면 나중에 "HR" 태그와 연결된 모든 리소스 그룹을 찾을 수 있습니다.


. *만들기*를 선택하세요.
. 복제본이 생성되면 *인벤토리* 페이지에서 볼 수 있습니다.




== 클론 새로 고침

Microsoft SQL Server 워크로드의 복제본을 새로 고칠 수 있습니다.  복제본을 새로 고치면 소스 워크로드의 최신 데이터로 복제본이 업데이트됩니다.  이 기능은 복제본을 소스 작업 부하에 맞춰 최신 상태로 유지하려는 경우에 유용합니다.

데이터베이스 이름을 변경하고, 최신 인스턴트 스냅샷을 사용하거나, 기존 프로덕션 스냅샷에서 새로 고침하는 옵션이 있습니다.

.단계
. NetApp Backup and Recovery 메뉴에서 *복제*를 선택합니다.
. 새로 고칠 복제본을 선택하세요.
. 작업 아이콘을 선택하세요image:../media/icon-action.png["작업 옵션"] > *복제본 새로고침*.
. *고급 설정* 섹션을 완료하세요.
+
** *복구 범위*: 모든 로그 백업을 복구할지, 아니면 특정 시점까지의 로그 백업만 복구할지 선택합니다.  이 옵션은 복제본을 특정 시점으로 복구하려는 경우에 유용합니다.
** *복제 새로 고침 일정 및 만료*: *즉시 복제*를 선택한 경우 복제 새로 고침을 시작할 날짜를 입력합니다.  복제 일정은 복제본이 생성되는 시기를 정의합니다.
+
*** *일정이 만료되면 복제본 삭제*: 복제본 만료일에 복제본을 삭제하려는 경우.
*** *복제본 새로 고침 간격*: 복제본을 새로 고칠 빈도를 선택합니다.  복제본을 매시간, 매일, 매주, 매월 또는 분기별로 새로 고칠 수 있습니다.  이 옵션은 복제본을 소스 작업 부하에 맞춰 최신 상태로 유지하려는 경우에 유용합니다.


** *iGroup 설정*: 복제본에 대한 igroup을 선택합니다.  igroup은 클론에 액세스하는 데 사용되는 개시자의 논리적 그룹입니다.  기존 igroup을 선택하거나 새 igroup을 만들 수 있습니다.  기본 또는 보조 ONTAP 스토리지 시스템에서 igroup을 선택합니다.
** *서두와 뒷부분*: 선택적으로 복제본이 생성되기 전과 후에 실행할 스크립트를 추가합니다.  이러한 스크립트는 복제본 설정이나 알림 전송 등의 추가 작업을 수행할 수 있습니다.
** *알림*: 선택적으로, 작업 보고서와 함께 복제본 생성 상태에 대한 알림을 받을 이메일 주소를 지정합니다.  복제본 생성 상태에 대한 알림을 받기 위해 웹훅 URL을 지정할 수도 있습니다.  성공 알림과 실패 알림을 모두 받을지, 아니면 둘 중 하나만 받을지 지정할 수 있습니다.
** *태그*: 나중에 리소스 그룹을 검색하는 데 도움이 되는 하나 이상의 라벨을 입력하세요.  예를 들어, 여러 리소스 그룹에 "HR"을 태그로 추가하면 나중에 해당 HR 태그와 연관된 모든 리소스 그룹을 찾을 수 있습니다.


. 새로 고침 확인 대화 상자에서 계속하려면 *새로 고침*을 선택하세요.




== 복제 새로 고침 건너뛰기

복제본 새로 고침을 건너뛰어 복제본을 변경하지 않습니다.

.단계
. NetApp Backup and Recovery 메뉴에서 *복제*를 선택합니다.
. 새로 고침을 건너뛸 복제본을 선택합니다.
. 작업 아이콘을 선택하세요image:../media/icon-action.png["작업 옵션"] > *새로고침 건너뛰기*.
. 새로 고침 건너뛰기 확인 대화 상자에서 다음을 수행합니다.
+
.. 다음 새로 고침 일정만 건너뛰려면 *다음 새로 고침 일정만 건너뜁니다*를 선택하세요.
.. 계속하려면 *건너뛰기*를 선택하세요.






== 클론 분할

Microsoft SQL Server 워크로드의 복제본을 분할할 수 있습니다.  복제본을 분할하면 복제본에서 새로운 백업이 생성됩니다.  새로운 백업을 사용하여 작업 부하를 복원할 수 있습니다.

클론을 독립 클론이나 장기 클론으로 분할할 수 있습니다.  마법사는 SVM에 포함된 집계 목록, 해당 크기, 복제된 볼륨이 있는 위치를 보여줍니다.  NetApp Backup and Recovery 복제본을 분할할 충분한 공간이 있는지 여부도 나타냅니다.  복제본이 분할된 후 복제본은 보호를 위한 독립적인 데이터베이스가 됩니다.

복제 작업은 제거되지 않으며 다른 복제에 다시 재사용될 수 있습니다.

.단계
. NetApp Backup and Recovery 메뉴에서 *복제*를 선택합니다.
. 복제본을 선택하세요.
. 작업 아이콘을 선택하세요image:../media/icon-action.png["작업 옵션"] > *분할 복제*.
. 분할된 클론의 세부 정보를 검토하고 *분할*을 선택합니다.
. 분할된 클론이 생성되면 *인벤토리* 페이지에서 볼 수 있습니다.




== 클론 삭제

Microsoft SQL Server 워크로드의 복제본을 삭제할 수 있습니다.  복제본을 삭제하면 개체 저장소에서 복제본이 제거되고 저장 공간이 확보됩니다.

정책이 복제본을 보호하는 경우 복제본과 해당 작업이 모두 삭제됩니다.

.단계
. NetApp Backup and Recovery 메뉴에서 *복제*를 선택합니다.
. 복제본을 선택하세요.
. 작업 아이콘을 선택하세요image:../media/icon-action.png["작업 옵션"] > *복제본 삭제*.
. 복제 삭제 확인 대화 상자에서 삭제 세부 정보를 검토합니다.
+
.. 복제본이나 해당 저장소에 액세스할 수 없는 경우에도 SnapCenter 에서 복제된 리소스를 삭제하려면 *강제 삭제*를 선택합니다.
.. *삭제*를 선택하세요.


. 복제본이 삭제되면 *인벤토리* 페이지에서도 제거됩니다.

