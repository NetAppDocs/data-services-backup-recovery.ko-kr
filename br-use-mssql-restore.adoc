---
sidebar: sidebar 
permalink: br-use-mssql-restore.html 
keywords: backing up, restoring, back up, backup, restore, cloud volumes ontap, aws, azure, s3, blob, google cloud, storagegrid, back up volumes, cloud backup, restore volumes, cost, on-premises ontap, onprem, applications, virtual machines, backup and recovery 
summary: 스냅샷 복사본, 보조 스토리지에 복제된 워크로드 백업 또는 개체 스토리지에 저장된 백업에서 데이터베이스 워크로드를 복원합니다. 
---
= NetApp 백업 및 복구를 사용하여 Microsoft SQL Server 워크로드 복원
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Backup and Recovery를 사용하여 스냅샷 복사본, 보조 스토리지에 복제된 워크로드 백업 또는 개체 스토리지에 저장된 백업에서 Microsoft SQL Server 워크로드를 복원합니다.  작업 부하를 원래 시스템, 동일한 클라우드 계정을 사용하는 다른 시스템 또는 온프레미스 ONTAP 시스템으로 복원할 수 있습니다.

.이 위치에서 복원
다양한 시작 위치에서 작업 부하를 복원할 수 있습니다.

* 기본 위치에서 복원
* 복제된 리소스에서 복원
* 개체 저장소 백업에서 복원


.이 지점으로 복원
최신 스냅샷이나 다음 지점으로 데이터를 복원할 수 있습니다.

* 스냅샷에서 복원
* 특정 시점으로 복원합니다.  파일의 이름과 위치, 마지막으로 좋은 상태였던 날짜를 알고 있다면 도움이 됩니다.
* 최신 백업으로 복원


.개체 저장소 고려 사항에서 복원
개체 스토리지에서 백업 파일을 선택하고 해당 백업에 대해 랜섬웨어 복원력이 활성화된 경우(백업 정책에서 DataLock 및 랜섬웨어 복원력을 활성화한 경우), 데이터를 복원하기 전에 백업 파일에 대한 추가 무결성 검사를 실행하라는 메시지가 표시됩니다.  검사를 실시해 보시기 바랍니다.


TIP: 백업 파일의 내용에 액세스하려면 클라우드 제공업체로부터 추가적인 퇴장 비용이 발생합니다.



== 워크로드 복원 작동 방식

작업 부하를 복원하면 다음이 발생합니다.

* 백업 파일에서 워크로드를 복원하면 NetApp Backup and Recovery는 백업의 데이터를 사용하여 _새로운_ 리소스를 만듭니다.
* 복제된 워크로드에서 복원하는 경우 워크로드를 원래 시스템이나 온프레미스 ONTAP 시스템으로 복원할 수 있습니다.
+
image:diagram_browse_restore_volume-unified.png["리소스를 복원하는 흐름을 보여주는 다이어그램"]

* 개체 스토리지에서 백업을 복원하면 데이터를 원래 시스템이나 온프레미스 ONTAP 시스템으로 복원할 수 있습니다.




== 복원 방법

다음 방법 중 하나를 사용하여 작업 부하를 복원할 수 있습니다.  일반적으로 복원 요구 사항에 따라 다음 방법 중 하나를 선택합니다.

* *복원 페이지에서*: 리소스를 복원해야 하지만 정확한 이름이나 해당 리소스가 있는 위치, 마지막으로 양호한 상태였던 날짜를 기억하지 못하는 경우 이 기능을 사용하세요. 필터를 사용하여 스냅샷을 검색할 수 있습니다.
* *인벤토리 페이지에서*: 지난주 또는 지난 달의 특정 리소스를 복원해야 하는 경우 이 기능을 사용하세요. 리소스의 이름과 위치, 마지막으로 좋은 상태였던 날짜를 알고 있어야 합니다.  복원하려는 리소스를 찾으려면 리소스 목록을 탐색합니다.


*필수 NetApp 콘솔 역할* 스토리지 뷰어, 백업 및 복구 슈퍼 관리자 또는 백업 및 복구 백업 관리자 역할. https://docs.netapp.com/us-en/console-setup-admin/reference-iam-predefined-roles.html["모든 서비스에 대한 NetApp 콘솔 액세스 역할에 대해 알아보세요."^] .



== 복원 옵션에서 작업 부하 데이터 복원

복원 옵션을 사용하여 데이터베이스 작업 부하를 복원합니다.

.단계
. NetApp 백업 및 복구 메뉴에서 *복원*을 선택합니다.
. 복원하려는 데이터베이스를 선택하세요.  필터를 사용하여 검색하세요.
. 복원 옵션을 선택하세요:
+
** 스냅샷에서 복원
** 특정 시점으로 복원합니다.  파일의 이름과 위치, 마지막으로 좋은 상태였던 날짜를 알고 있다면 도움이 됩니다.
** 최신 백업으로 복원






=== 스냅샷에서 워크로드 복원

. 복원 옵션 페이지에서 계속해서 *스냅샷에서 복원*을 선택합니다.
+
스냅샷 목록이 나타납니다.

. 복원할 스냅샷을 선택하세요.
. *다음*을 선택하세요.
+
다음으로 목적지 옵션이 표시됩니다.

. 목적지 세부 정보 페이지에서 다음 정보를 입력하세요.
+
** *대상 설정*: 데이터를 원래 위치로 복원할지, 아니면 다른 위치로 복원할지 선택합니다.  대체 위치의 경우 호스트 이름과 인스턴스를 선택하고, 데이터베이스 이름을 입력하고, 스냅샷을 복원할 대상 경로를 입력합니다.
** *사전 복원 옵션*:
+
*** *복원 중 동일한 이름으로 데이터베이스 덮어쓰기*: 복원하는 동안 원래 데이터베이스 이름이 보존됩니다.
*** *SQL 데이터베이스 복제 설정 유지*: 복원 작업 후에도 SQL 데이터베이스의 복제 설정을 유지합니다.
*** *복원 전 트랜잭션 로그 백업 생성*: 복원 작업 전에 트랜잭션 로그 백업을 생성합니다.***  *복원 전 트랜잭션 로그 백업이 실패하면 복원 중지*: 트랜잭션 로그 백업이 실패하면 복원 작업을 중지합니다.
*** *사전 스크립트*: 복원 작업 전에 실행해야 하는 스크립트의 전체 경로, 스크립트에 필요한 인수, 스크립트가 완료될 때까지 기다려야 하는 시간을 입력합니다.


** *복원 후 옵션*:
+
*** *작동 중*이지만 추가 거래 로그를 복원하는 데 사용할 수 없습니다.  트랜잭션 로그 백업이 적용된 후 데이터베이스가 다시 온라인 상태가 됩니다.
*** *작동하지 않지만* 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  트랜잭션 로그 백업을 복원하는 동안 복원 작업 후에 데이터베이스를 비작동 상태로 유지합니다.  이 옵션은 추가 거래 로그를 복원하는 데 유용합니다.
*** *읽기 전용 모드*이며 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  데이터베이스를 읽기 전용 모드로 복원하고 트랜잭션 로그 백업을 적용합니다.
*** *추신*: 복원 작업 후 실행해야 하는 스크립트의 전체 경로와 스크립트가 취하는 인수를 입력합니다.




. *복원*을 선택하세요.




=== 특정 시점으로 복원

NetApp 백업 및 복구는 로그와 최신 스냅샷을 사용하여 데이터의 특정 시점 복원을 생성합니다.

. 복원 옵션 페이지에서 *특정 시점으로 복원*을 선택합니다.
. *다음*을 선택하세요.
. 특정 시점으로 복원 페이지에서 다음 정보를 입력합니다.
+
** *데이터 복구 날짜 및 시간*: 복구하려는 데이터의 정확한 날짜와 시간을 입력하세요.  이 날짜와 시간은 Microsoft SQL Server 데이터베이스 호스트에서 가져온 것입니다.


. *검색*을 선택하세요.
. 복원할 스냅샷을 선택하세요.
. *다음*을 선택하세요.
. 목적지 세부 정보 페이지에서 다음 정보를 입력하세요.
+
** *대상 설정*: 데이터를 원래 위치로 복원할지, 아니면 다른 위치로 복원할지 선택합니다.  대체 위치의 경우 호스트 이름과 인스턴스를 선택하고, 데이터베이스 이름을 입력하고, 대상 경로를 입력합니다.
** *사전 복원 옵션*:
+
*** *원래 데이터베이스 이름 유지*: 복원하는 동안 원래 데이터베이스 이름이 유지됩니다.
*** *SQL 데이터베이스 복제 설정 유지*: 복원 작업 후에도 SQL 데이터베이스의 복제 설정을 유지합니다.
*** *사전 스크립트*: 복원 작업 전에 실행해야 하는 스크립트의 전체 경로, 스크립트에 필요한 인수, 스크립트가 완료될 때까지 기다려야 하는 시간을 입력합니다.


** *복원 후 옵션*:
+
*** *작동 중*이지만 추가 거래 로그를 복원하는 데 사용할 수 없습니다.  트랜잭션 로그 백업이 적용된 후 데이터베이스가 다시 온라인 상태가 됩니다.
*** *작동하지 않지만* 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  트랜잭션 로그 백업을 복원하는 동안 복원 작업 후에 데이터베이스를 비작동 상태로 유지합니다.  이 옵션은 추가 거래 로그를 복원하는 데 유용합니다.
*** *읽기 전용 모드*이며 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  데이터베이스를 읽기 전용 모드로 복원하고 트랜잭션 로그 백업을 적용합니다.
*** *추신*: 복원 작업 후 실행해야 하는 스크립트의 전체 경로와 스크립트가 취하는 인수를 입력합니다.




. *복원*을 선택하세요.




=== 최신 백업으로 복원

이 옵션은 최신 전체 백업과 로그 백업을 사용하여 데이터를 마지막 양호한 상태로 복원합니다.  시스템은 마지막 스냅샷부터 현재까지의 로그를 스캔합니다.  이 프로세스는 변경 사항과 활동을 추적하여 데이터의 가장 최신 및 정확한 버전을 복원합니다.

. 복원 옵션 페이지에서 *최신 백업으로 복원*을 선택합니다.
+
NetApp 백업 및 복구는 복원 작업에 사용할 수 있는 스냅샷을 보여줍니다.

. 최신 상태로 복원 페이지에서 로컬, 보조 저장소 또는 개체 저장소의 스냅샷 위치를 선택합니다.
. *다음*을 선택하세요.
. 목적지 세부 정보 페이지에서 다음 정보를 입력하세요.
+
** *대상 설정*: 데이터를 원래 위치로 복원할지, 아니면 다른 위치로 복원할지 선택합니다.  대체 위치의 경우 호스트 이름과 인스턴스를 선택하고, 데이터베이스 이름을 입력하고, 대상 경로를 입력합니다.
** *사전 복원 옵션*:
+
*** *복원 중 동일한 이름으로 데이터베이스 덮어쓰기*: 복원하는 동안 원래 데이터베이스 이름이 보존됩니다.
*** *SQL 데이터베이스 복제 설정 유지*: 복원 작업 후에도 SQL 데이터베이스의 복제 설정을 유지합니다.
*** *복원 전 트랜잭션 로그 백업 생성*: 복원 작업 전에 트랜잭션 로그 백업을 생성합니다.
*** *트랜잭션 로그 백업이 실패한 경우 복원 중지*: 트랜잭션 로그 백업이 실패하면 복원 작업을 중지합니다.
*** *사전 스크립트*: 복원 작업 전에 실행해야 하는 스크립트의 전체 경로, 스크립트에 필요한 인수, 스크립트가 완료될 때까지 기다려야 하는 시간을 입력합니다.


** *복원 후 옵션*:
+
*** *작동 중*이지만 추가 거래 로그를 복원하는 데 사용할 수 없습니다.  트랜잭션 로그 백업이 적용된 후 데이터베이스가 다시 온라인 상태가 됩니다.
*** *작동하지 않지만* 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  트랜잭션 로그 백업을 복원하는 동안 복원 작업 후에 데이터베이스를 비작동 상태로 유지합니다.  이 옵션은 추가 거래 로그를 복원하는 데 유용합니다.
*** *읽기 전용 모드*이며 추가 거래 로그를 복원하는 데 사용할 수 있습니다.  데이터베이스를 읽기 전용 모드로 복원하고 트랜잭션 로그 백업을 적용합니다.
*** *추신*: 복원 작업 후 실행해야 하는 스크립트의 전체 경로와 스크립트가 취하는 인수를 입력합니다.




. *복원*을 선택하세요.




== 인벤토리 옵션에서 작업 부하 데이터 복원

인벤토리 페이지에서 데이터베이스 작업 부하를 복원합니다.  인벤토리 옵션을 사용하면 인스턴스가 아닌 데이터베이스만 복원할 수 있습니다.

.단계
. NetApp 백업 및 복구 메뉴에서 *인벤토리*를 선택합니다.
. 복원하려는 리소스가 있는 호스트를 선택하세요.
. *작업*을 선택하세요image:icon-action.png["작업 아이콘"] 아이콘을 클릭하고 *세부정보 보기*를 선택하세요.
. Microsoft SQL Server 페이지에서 *데이터베이스* 탭을 선택합니다.
. 데이터베이스 탭에서 복원할 수 있는 백업이 있음을 나타내는 "보호됨" 상태를 표시하는 데이터베이스를 선택합니다.
. *작업*을 선택하세요image:icon-action.png["작업 아이콘"] 아이콘을 클릭하고 *복원*을 선택하세요.
+
복원 페이지에서 복원할 때와 동일한 세 가지 옵션이 나타납니다.

+
** 스냅샷에서 복원
** 특정 시점으로 복원
** 최신 백업으로 복원


. 복원 페이지에서 복원 옵션에 대해 동일한 단계를 계속합니다.


ifdef::aws[]

endif::aws[]

ifdef::azure[]

endif::azure[]

ifdef::gcp[]

endif::gcp[]

ifdef::aws[]

endif::aws[]

ifdef::azure[]

endif::azure[]

ifdef::gcp[]

endif::gcp[]
